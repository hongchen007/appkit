<?php/** * Created by PhpStorm. * User: Administrator * Date: 2019/7/26 * Time: 9:30 */namespace app\admin\model;class Pricing extends BaseModel{    /**     * 列表     * @return mixed     */    public function index()    {        $info = $this->select();        foreach($info as $K=>$v){            if($v['pricing_single_Installation'] == 1){                $info[$K]['pricing_single_Installation'] = '是';            }else{                $info[$K]['pricing_single_Installation'] = '否';            }            if($v['pricing_multiple_installations'] == 1){                $info[$K]['pricing_multiple_installations'] = '是';            }else{                $info[$K]['pricing_multiple_installations'] = '否';            }            if($v['pricing_link'] == 1){                $info[$K]['pricing_link'] = '是';            }else{                $info[$K]['pricing_link'] = '否';            }        }        return $info;    }    /**     * 添加     * @param $arr     * @return int     */    public function add_img($arr)    {        //数据处理        $arr['create_time'] = date('Y-m-d H:i:s', time());        $arr['update_time'] = date('Y-m-d H:i:s', time());        $info = $this->allowField(true)->save($arr);        if ($info) {            return 1; //添加成功        } else {            return 11; //添加失败        }    }    //删除    public function img_del($date)    {        $info  = $this->where('id', $date)->delete();        if ($info) {            return 1; //删除成功        } else {            return 2;//删除失败        }    }    public function updateinfo($date)    {        $info = $this->where('id',$date)->find();        return $info;    }    public function updateedit($date)    {        $date['create_time'] = strtotime('Y-m-d H:i:s',time());        $info = $this->allowField(true)->isUpdate(true)->update($date);        if($info){            return 1;        }else{            return 11;        }    }}