<?php/** * Created by PhpStorm. * User: Administrator * Date: 2019/7/29 * Time: 14:15 */namespace app\admin\model;class Tico extends BaseModel{    //列表页    public function index()    {        $info = $this->select();        foreach($info as $k=>$v){            if($v['tico_modular'] == 'About'){                $info[$k]['tico_modular'] = '业务范围';            }            if($v['tico_modular'] == 'Testimonials'){                $info[$k]['tico_modular'] = '企业优势';            }            if($v['tico_modular'] == 'Features'){                $info[$k]['tico_modular'] = '案例介绍';            }            if($v['tico_modular'] == 'Team'){                $info[$k]['tico_modular'] = '团队介绍';            }            if($v['tico_modular'] == 'Pricing'){                unset($info[$k]);            }            if($v['tico_modular'] == 'ContentUs'){                $info[$k]['tico_modular'] = '联系我们';            }        }        return $info;    }    //添加    public function add_img($arr)    {        //数据处理        $arr['create_time'] = date('Y-m-d H:i:s', time());        $arr['update_time'] = date('Y-m-d H:i:s', time());        $info = $this->allowField(true)->save($arr);        if ($info) {            return 1; //添加成功        } else {            return 11; //添加失败        }    }    //删除    public function img_del($date)    {        $info = $this->where('id', $date)->find();        $del  = $this->where('id', $date)->delete();        if ($del) {            unlink($_SERVER["DOCUMENT_ROOT"] . $info['introduction_img']);            return 1; //删除成功        } else {            return 2;//删除失败        }    }    //修改信息    public function updateinfo($date)    {        $arr = $this->find($date);        return $arr;    }    /**     * 执行修改     * @param $date     */    public function updateedit($date)    {        $date['update_time'] = date('Y-m-d H:i:s', time());        //修改        if ($this->allowField(true)->isUpdate(true)->update($date)) {            return 1; //修改成功        } else {            return 11; //修改失败        }    }}